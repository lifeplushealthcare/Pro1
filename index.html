<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ambulance Management System</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.7.1/dist/umd/supabase.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
</head>
<body class="bg-gray-100">
    <div id="app" class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">Ambulance Management System</h1>
        
        <!-- Navigation -->
        <nav class="mb-4">
            <ul class="flex space-x-4">
                <li><a href="#" class="text-blue-500" onclick="showSection('tripForm')">New Trip</a></li>
                <li><a href="#" class="text-blue-500" onclick="showSection('tripHistory')">Trip History</a></li>
                <li><a href="#" class="text-blue-500" onclick="showSection('financialDashboard')">Financial Dashboard</a></li>
                <li><a href="#" class="text-blue-500" onclick="showSection('analytics')">Analytics</a></li>
            </ul>
        </nav>

        <!-- Trip Form Section -->
        <section id="tripForm" class="mb-8">
            <h2 class="text-2xl font-semibold mb-4">New Trip</h2>
            <form id="newTripForm" class="space-y-4">
                <div>
                    <label for="patientName" class="block">Patient Name:</label>
                    <input type="text" id="patientName" name="patientName" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="fromCity" class="block">From City:</label>
                    <input type="text" id="fromCity" name="fromCity" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="fromHospital" class="block">From Hospital:</label>
                    <input type="text" id="fromHospital" name="fromHospital" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="toCity" class="block">To City:</label>
                    <input type="text" id="toCity" name="toCity" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="toHospital" class="block">To Hospital:</label>
                    <input type="text" id="toHospital" name="toHospital" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="driverName" class="block">Driver Name:</label>
                    <input type="text" id="driverName" name="driverName" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="nursingStaff" class="block">Nursing Staff:</label>
                    <input type="text" id="nursingStaff" name="nursingStaff" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="patientStatus" class="block">Patient Status:</label>
                    <select id="patientStatus" name="patientStatus" required class="w-full p-2 border rounded">
                        <option value="stable">Stable</option>
                        <option value="critical">Critical</option>
                        <option value="unpredictable">Unpredictable</option>
                    </select>
                </div>
                <div>
                    <label for="statusDescription" class="block">Status Description (optional):</label>
                    <textarea id="statusDescription" name="statusDescription" class="w-full p-2 border rounded"></textarea>
                </div>
                <div>
                    <label for="distance" class="block">Distance (km):</label>
                    <input type="number" id="distance" name="distance" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="chargePerKm" class="block">Charge per km:</label>
                    <input type="number" id="chargePerKm" name="chargePerKm" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="ambulance" class="block">Select Ambulance:</label>
                    <select id="ambulance" name="ambulance" required class="w-full p-2 border rounded">
                        <option value="1">Ambulance 1</option>
                        <option value="2">Ambulance 2</option>
                        <option value="3">Ambulance 3</option>
                        <option value="4">Ambulance 4</option>
                        <option value="5">Ambulance 5</option>
                        <option value="6">Ambulance 6</option>
                    </select>
                </div>
                <div>
                    <label for="amountCharged" class="block">Amount Charged:</label>
                    <input type="number" id="amountCharged" name="amountCharged" required class="w-full p-2 border rounded">
                </div>
                <div>
                    <label for="paymentMethod" class="block">Payment Method:</label>
                    <select id="paymentMethod" name="paymentMethod" required class="w-full p-2 border rounded">
                        <option value="online">Online</option>
                        <option value="offline">Offline</option>
                    </select>
                </div>
                <div>
                    <h3 class="font-semibold">Expenditure Breakdown:</h3>
                    <div>
                        <label for="driverExpense" class="block">Driver Expense:</label>
                        <input type="number" id="driverExpense" name="driverExpense" required class="w-full p-2 border rounded">
                    </div>
                    <div>
                        <label for="fuelExpense" class="block">Fuel Expense:</label>
                        <input type="number" id="fuelExpense" name="fuelExpense" required class="w-full p-2 border rounded">
                    </div>
                    <div>
                        <label for="maintenanceExpense" class="block">Maintenance Expense:</label>
                        <input type="number" id="maintenanceExpense" name="maintenanceExpense" required class="w-full p-2 border rounded">
                    </div>
                    <div>
                        <label for="nursingStaffExpense" class="block">Nursing Staff Expense:</label>
                        <input type="number" id="nursingStaffExpense" name="nursingStaffExpense" required class="w-full p-2 border rounded">
                    </div>
                </div>
                <div>
                    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Submit Trip</button>
                    <button type="button" onclick="cancelTrip()" class="bg-red-500 text-white px-4 py-2 rounded ml-2">Cancel Trip</button>
                </div>
            </form>
        </section>

        <!-- Trip History Section -->
        <section id="tripHistory" class="mb-8 hidden">
            <h2 class="text-2xl font-semibold mb-4">Trip History</h2>
            <div id="tripHistoryList" class="space-y-4"></div>
        </section>

        <!-- Financial Dashboard Section -->
        <section id="financialDashboard" class="mb-8 hidden">
            <h2 class="text-2xl font-semibold mb-4">Financial Dashboard</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <div class="bg-white p-4 rounded shadow">
                    <h3 class="font-semibold">Total Earnings</h3>
                    <p id="totalEarnings" class="text-2xl font-bold"></p>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <h3 class="font-semibold">Total Expenditures</h3>
                    <p id="totalExpenditures" class="text-2xl font-bold"></p>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <h3 class="font-semibold">Net Profit</h3>
                    <p id="netProfit" class="text-2xl font-bold"></p>
                </div>
            </div>
            <div class="mt-8">
                <h3 class="font-semibold mb-2">Financial Overview</h3>
                <canvas id="financialChart"></canvas>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="mb-8 hidden">
            <h2 class="text-2xl font-semibold mb-4">Analytics</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-white p-4 rounded shadow">
                    <h3 class="font-semibold mb-2">Trips per Day</h3>
                    <canvas id="tripsPerDayChart"></canvas>
                </div>
                <div class="bg-white p-4 rounded shadow">
                    <h3 class="font-semibold mb-2">Patient Status Distribution</h3>
                    <canvas id="patientStatusChart"></canvas>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
    </html>
